<!--
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/
-->
<div style="display: flex; flex-flow: column; position: absolute; height:100%; width:100%">
    <div  height="28px" class="input" style="border-bottom: 0 none; flex: 0 0 auto; display: flex">
        <input *ngIf="_config.context === 'database'" class="dashboard-search-box" [(ngModel)]="filterString" style="flex: 1 1 auto;" #gb type="text" pInputText size="50" placeholder="&#xf002;   Search connection metadata">
        <input *ngIf="_config.context === 'server'" class="dashboard-search-box" [(ngModel)]="filterString" style="flex: 1 1 auto;" #gb type="text" pInputText size="50" placeholder="&#xf002;   Search databases">
        <span *ngIf="_config.context === 'database'" class="dropdown">
            <span class="dashboard-search-box dropbtn" style="flex: 0 0 auto">&#xf0b0;</span>
            <div class="dropdown-content" style="width: 40px; background: white">
                <div class="dropdown-item" *ngFor="let filter of filterArray" (click)="handleFilterMenu(filter)">
                    {{filter}}
                </div>
            </div>
        </span>
    </div>
    <div class="database-table" style="overflow: scroll; flex: 1 1 auto">
        <div *ngFor="let row of tableData | metadataFilter:filterString" style="display: flex; flex-flow: row" class="database-row">
            <span style="flex: 0 0 auto">
                <div *ngIf="row.metadata?.metadataType === dataType.Table">
                    <i class="fa fa-table fa-lg" style="padding: 4px"></i>
                </div>
                <div *ngIf="row.metadata?.metadataType === dataType.SProc">
                    <i class="fa fa-wrench fa-lg" style="padding: 4px"></i>
                </div>
                <div *ngIf="row.metadata?.metadataType === dataType.View">
                    <i class="fa fa-binoculars fa-lg" style="padding: 4px"></i>
                </div>
                <div *ngIf="_config.context === 'server'">
                    <i class="fa fa-database fa-lg" style="padding: 4px"></i>
                </div>
            </span>
            <span *ngIf="_config.context === 'database'" style="flex: 1 1 auto" (click)="handleItemClick(row.metadata.name)">{{row.metadata.name}}</span>
            <span *ngIf="_config.context === 'server'" style="flex: 1 1 auto" (click)="handleItemClick(row)">{{row}}</span>
        </div>
    </div>
</div>